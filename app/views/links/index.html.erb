<% @links.each do |link| %>
  <div class="link row clearfix">
    <h2>
      <%= link_to link.title, link %><br>
      <small class="author">Submitted <%= time_ago_in_words(link.created_at) %> ago by <%= link.user.email %></small>
    </h2>

    <div class="btn-group">
      <%= link_to 'Visit link', link.url, class: 'btn btn-default btn-sm' %>
      <!-- <a class="btn btn-default btn-sm" href="<%= link.url %>">Visit Link</a> -->
      <%= link_to like_link_path(link), method: :put, class: "btn btn-default btn-sm" do %>
        <span class="glyphicon glyphicon-chevron-up"></span>
        Upvote
        <%= link.get_upvotes.size %>
      <% end %>
      <%= link_to dislike_link_path(link), method: :put, class: "btn btn-default btn-sm" do %>
        <span class="glyphicon glyphicon-chevron-down">
        Downvote
        <%= link.get_downvotes.size %>
      <% end %>
    </div>
  </div>
<% end %>



<% if false %>
  <!-- <p id="notice"><%= notice %></p> -->

  <h1>Links</h1>

  <table>
    <thead>
      <tr>
        <th>Title</th>
        <th>Url</th>
        <th colspan="3"></th>
        <!-- <th colspan="7"></th> -->
      </tr>
    </thead>

    <tbody>
      <% @links.each do |link| %>
        <tr>
          <td><%= link.title %></td>
          <td><%= link.url %></td>
          <td><%= link_to 'Show', link %></td>

          <% if link.user == current_user %>
          <%# if user_signed_in? %>
            <!-- CAREFUL !!! -->
            <!-- As features are added, do old records have the newly required data ??? -->
            <td><%= link_to 'Edit', edit_link_path(link) %></td>
            <td><%= link_to 'Destroy', link, method: :delete, data: { confirm: 'Are you sure?' } %></td>
          <% end %>

          <!-- <td><%#= "link.user: #{link.user.inspect}" %></td> -->
          <!-- <td><%#= "current_user: #{current_user.inspect}" %></td> -->
          <!-- <td><%#= "link.user == current_user: #{link.user == current_user}" %></td> -->
          <!-- <td><%#= "user_signed_in?: #{user_signed_in?}" %></td> -->
        </tr>
      <% end %>
    </tbody>
  </table>

<% end %>
